(this["webpackJsonpreact-gkstore"]=this["webpackJsonpreact-gkstore"]||[]).push([[0],{10:function(e,t,r){e.exports={content:"Favorites_content__EjsSU",products:"Favorites_products__rSW2k",card:"Favorites_card__3T0bY",favorite:"Favorites_favorite__1Clsp",cardInfo:"Favorites_cardInfo__1q9GE",cardPrice:"Favorites_cardPrice__2l4fR",favoriteRemove:"Favorites_favoriteRemove__2fDNZ",favoriteRemoveBtn:"Favorites_favoriteRemoveBtn__1N80j",contentHeader:"Favorites_contentHeader__1BfmW",productImg:"Favorites_productImg__1Qq6I"}},11:function(e,t,r){e.exports={banner:"Header_banner__WDqR1",headerLeft:"Header_headerLeft__37q_B",headerRight:"Header_headerRight__1RaxT",cart:"Header_cart__2Wtnh",cartCount:"Header_cartCount__jPUed",active:"Header_active__3fLF7"}},12:function(e,t,r){e.exports={card:"Card_card__2eo3C",favorite:"Card_favorite__2qtX2",cardInfo:"Card_cardInfo__3DUji",cardPrice:"Card_cardPrice__252yu",buyBtn:"Card_buyBtn__3nYU9",productImg:"Card_productImg__XEJXr"}},15:function(e,t,r){e.exports={content:"Cards_content__JVt6h",products:"Cards_products__3qrUK",contentHeader:"Cards_contentHeader__3tt7e",searchPanel:"Cards_searchPanel__23Eer",close:"Cards_close__fM5dB"}},3:function(e,t,r){e.exports={overlay:"ShoppingCart_overlay__Rtgq2",cart:"ShoppingCart_cart__3NoSB",cartContent:"ShoppingCart_cartContent__1ZpJm",cartItems:"ShoppingCart_cartItems__1NpVa",items:"ShoppingCart_items__2Yc_B",cartItem:"ShoppingCart_cartItem__XXqIk",cartImg:"ShoppingCart_cartImg__1-_aD",cartDescription:"ShoppingCart_cartDescription__3APge",cartInfo:"ShoppingCart_cartInfo__J6hl-",cartRemove:"ShoppingCart_cartRemove__2l2LT",cartRemoveBtn:"ShoppingCart_cartRemoveBtn__3wA6o",cartTotal:"ShoppingCart_cartTotal__1RFYb",totalButton:"ShoppingCart_totalButton__1gXx8",cartEmptyInfo:"ShoppingCart_cartEmptyInfo__3DXmn",cartBackBtn:"ShoppingCart_cartBackBtn__1ist8",overlayVisible:"ShoppingCart_overlayVisible__oxqJJ"}},36:function(e,t,r){e.exports={wrapper:"App_wrapper__1w6MD"}},70:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),n=r(33),i=r.n(n),s=r(14),o=r(24),d=r(9),l=r.n(d),u=r(13),j=r(8),h=r(7),m=r.n(h),p=r(2),b=r(11),v=r.n(b),f=r(0),_=function(e){var t=e.onCartOpen,r=e.cartItems,a=c.a.useState("0"),n=Object(j.a)(a,2),i=n[0],o=n[1],d=function(e){return o(e.target.id)};return Object(f.jsxs)("header",{children:[Object(f.jsx)("div",{className:v.a.headerLeft,children:Object(f.jsxs)("div",{children:[Object(f.jsx)(s.b,{to:"/",children:Object(f.jsx)("h1",{children:"GKara store"})}),Object(f.jsx)("p",{children:"DISCOVER THIS YEAR'S PIECES FROM OUR LATEST COLLECTION"})]})}),Object(f.jsxs)("ul",{className:v.a.headerRight,children:[Object(f.jsx)(s.b,{to:"/",children:Object(f.jsx)("li",{id:0,onClick:d,className:"0"===i?"".concat(v.a.active):"",children:"Home"})}),Object(f.jsx)(s.b,{to:"/favorites",children:Object(f.jsx)("li",{id:1,onClick:d,className:"1"===i?"".concat(v.a.active):"",children:"Favorites"})}),Object(f.jsxs)("li",{onClick:t,children:[Object(f.jsx)("span",{className:v.a.cart,children:"Bag"}),Object(f.jsxs)("span",{className:v.a.cartCount,children:["(","".concat(r.length),")"]})]})]})]})},x=r(3),O=r.n(x),g=function(e){var t=e.onCartClose,r=e.cartItems,a=void 0===r?[]:r,n=e.onRemoveCart,i=e.setCartItems,s=e.opened,o=c.a.useState(!1),d=Object(j.a)(o,2),h=d[0],p=d[1],b=function(){var e=Object(u.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://616fe04e23781c0017289697.mockapi.io/orders",{items:a});case 3:p(!0),t=0;case 5:if(!(t<a.length)){e.next=13;break}return r=a[t],e.next=9,m.a.delete("https://616fe04e23781c0017289697.mockapi.io/cart/".concat(r.id));case 9:i([]);case 10:t++,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),v=function(){t(),setTimeout((function(){p(!1)}),500)};return Object(f.jsx)("div",{className:"".concat(O.a.overlay," ").concat(s?O.a.overlayVisible:""),children:Object(f.jsxs)("div",{className:O.a.cart,children:[Object(f.jsxs)("h2",{children:["Shopping Bag",Object(f.jsx)("img",{onClick:v,className:O.a.cartRemove,width:15,height:15,src:"img/close.svg",alt:"close"})]}),h?Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{className:O.a.cartEmptyInfo,children:"Your order has been successfully created"}),Object(f.jsx)("button",{onClick:v,className:O.a.cartBackBtn,children:"Back to the shop"})]}):Object(f.jsx)("div",{className:O.a.cartContent,children:a.length>0?Object(f.jsxs)("div",{className:O.a.cartItems,children:[Object(f.jsx)("div",{className:O.a.items,children:a.map((function(e){return Object(f.jsxs)("div",{className:O.a.cartItem,children:[Object(f.jsx)("img",{className:O.a.cartImg,width:140,src:e.imageUrlFirst,alt:"product"}),Object(f.jsxs)("div",{className:O.a.cartDescription,children:[Object(f.jsxs)("div",{className:O.a.cartInfo,children:[Object(f.jsx)("p",{children:e.title}),Object(f.jsxs)("b",{children:[e.price," USD"]})]}),Object(f.jsx)("div",{className:O.a.cartRemove,children:Object(f.jsx)("button",{className:O.a.cartRemoveBtn,onClick:function(){return n(e.id)},children:"Remove"})})]})]},e.itemId)}))}),Object(f.jsxs)("div",{className:O.a.cartTotal,children:[Object(f.jsx)("ul",{children:Object(f.jsxs)("li",{children:[Object(f.jsx)("span",{children:"Total:"}),Object(f.jsx)("div",{}),Object(f.jsxs)("b",{children:[a.reduce((function(e,t){return Number(t.price)+e}),0)," ","USD"]})]})}),Object(f.jsx)("button",{onClick:function(){return b()},className:O.a.totalButton,children:"Place an order"})]})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{className:O.a.cartEmptyInfo,children:"Your bag is empty"}),Object(f.jsx)("button",{onClick:t,className:O.a.cartBackBtn,children:"Back to the shop"})]})})]})})},C=r(12),N=r.n(C),I=function(e){var t=e.title,r=e.price,a=e.imageUrlFirst,n=e.imageUrlSecond,i=e.id,s=e.onCartAdd,o=e.onFavoriteAdd,d=e.isItemAdded,l=e.isFavoriteAdded,u=c.a.useState(!1),h=Object(j.a)(u,2),m=h[0],p=h[1],b={title:t,price:r,imageUrlFirst:a,id:i,itemId:i};return Object(f.jsxs)("div",{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},className:N.a.card,children:[Object(f.jsx)("div",{onClick:function(){return o(b)},className:N.a.favorite,children:Object(f.jsx)("img",{width:25,height:25,src:l(i)?"img/heart-liked.svg":"img/heart-unliked.svg",alt:"favorite"})}),Object(f.jsx)("img",{width:270,src:m?n:a,className:N.a.productImg,alt:"product"}),Object(f.jsx)("h5",{children:t}),Object(f.jsxs)("div",{className:N.a.cardInfo,children:[Object(f.jsx)("div",{className:N.a.cardPrice,children:Object(f.jsxs)("p",{children:[r," USD"]})}),Object(f.jsx)("div",{onClick:function(){return s(b)},className:N.a.buyBtn,children:Object(f.jsx)("h5",{children:d(i)?"SUCCESSFULLY ADDED":"+ADD TO SHOPPING BAG"})})]})]})},S=r(15),k=r.n(S),F=function(e){var t=e.items,r=e.onSearchValue,a=e.searchValue,c=e.setSearchValue,n=e.onCartAdd,i=e.onFavoriteAdd,s=e.isItemAdded,o=e.isFavoriteAdded,d=t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())}));return Object(f.jsxs)("div",{className:k.a.content,children:[Object(f.jsxs)("div",{className:k.a.contentHeader,children:[Object(f.jsx)("h2",{children:a?"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443: ".concat(a):"All ready-to-wear"}),Object(f.jsxs)("div",{className:k.a.searchPanel,children:[Object(f.jsx)("img",{width:17,height:17,src:"img/search.svg",alt:"Search"}),a?Object(f.jsx)("img",{onClick:function(){return c("")},className:k.a.close,width:10,height:10,src:"img/close.svg",alt:"close"}):null,Object(f.jsx)("input",{onChange:r,value:a,placeholder:"Search..."})]})]}),Object(f.jsx)("div",{className:k.a.products,children:d.map((function(e){return Object(f.jsx)(I,{title:e.title,price:e.price,imageUrlFirst:e.imageUrlFirst,imageUrlSecond:e.imageUrlSecond,id:e.id,onCartAdd:function(e){return n(e)},onFavoriteAdd:function(e){return i(e)},isItemAdded:function(e){return s(e)},isFavoriteAdded:function(e){return o(e)}},e.title)}))})]})},B=r(10),R=r.n(B),y=function(e){var t=e.favoriteItems,r=e.onRemoveFavorite;return Object(f.jsx)("div",{className:R.a.content,children:t.length?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:R.a.contentHeader,children:Object(f.jsx)("h2",{children:"Favorites"})}),Object(f.jsx)("div",{className:R.a.products,children:t.map((function(e){return Object(f.jsxs)("div",{className:R.a.card,children:[Object(f.jsx)("img",{width:270,src:e.imageUrlFirst,className:R.a.productImg,alt:"product"}),Object(f.jsx)("h5",{children:e.title}),Object(f.jsxs)("div",{className:R.a.cardInfo,children:[Object(f.jsx)("div",{className:R.a.cardPrice,children:Object(f.jsxs)("p",{children:[e.price," USD"]})}),Object(f.jsx)("div",{className:R.a.favoriteRemove,children:Object(f.jsx)("button",{className:R.a.favoriteRemoveBtn,onClick:function(){return r(e.id)},children:"Remove"})})]})]},e.id)}))})]}):Object(f.jsx)("h2",{children:"Favorites are empty"})})},w=r(36),A=r.n(w);var U=function(){var e=c.a.useState([]),t=Object(j.a)(e,2),r=t[0],a=t[1],n=c.a.useState([]),i=Object(j.a)(n,2),s=i[0],d=i[1],h=c.a.useState([]),b=Object(j.a)(h,2),v=b[0],x=b[1],O=c.a.useState(!1),C=Object(j.a)(O,2),N=C[0],I=C[1],S=c.a.useState(""),k=Object(j.a)(S,2),B=k[0],R=k[1];c.a.useEffect((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://616fe04e23781c0017289697.mockapi.io/cart");case 3:return t=e.sent,e.next=6,m.a.get("https://616fe04e23781c0017289697.mockapi.io/favorites");case 6:return r=e.sent,e.next=9,m.a.get("https://616fe04e23781c0017289697.mockapi.io/items");case 9:c=e.sent,d(t.data),x(r.data),a(c.data),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var w=function(){var e=Object(u.a)(l.a.mark((function e(t){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=s.find((function(e){return Number(e.itemId)===Number(t.id)})))){e.next=8;break}return d((function(e){return e.filter((function(e){return Number(e.itemId)!==Number(t.id)}))})),e.next=6,m.a.delete("https://616fe04e23781c0017289697.mockapi.io/cart/".concat(r.id));case 6:e.next=13;break;case 8:return e.next=10,m.a.post("https://616fe04e23781c0017289697.mockapi.io/cart",t);case 10:a=e.sent,c=a.data,d((function(e){return[].concat(Object(o.a)(e),[c])}));case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(l.a.mark((function e(t){var r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=v.find((function(e){return Number(e.itemId)===Number(t.id)})))&&(x((function(e){return e.filter((function(e){return Number(e.itemId)!==Number(t.id)}))})),m.a.delete("https://616fe04e23781c0017289697.mockapi.io/favorites/".concat(r.id))),e.next=5,m.a.post("https://616fe04e23781c0017289697.mockapi.io/favorites",t);case 5:a=e.sent,c=a.data,x((function(e){return[].concat(Object(o.a)(e),[c])})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:A.a.wrapper,children:[Object(f.jsx)(_,{onCartOpen:function(){return I(!0)},cartItems:s}),Object(f.jsx)(g,{onCartClose:function(){return I(!1)},cartItems:s,onRemoveCart:function(e){try{d((function(t){return t.filter((function(t){return Number(t.id)!==Number(e)}))})),m.a.delete("https://616fe04e23781c0017289697.mockapi.io/cart/".concat(e))}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"),console.error(t)}},setCartItems:d,opened:N}),Object(f.jsx)(p.a,{exact:!0,path:"/",children:Object(f.jsx)(F,{items:r,onSearchValue:function(e){return R(e.target.value)},searchValue:B,setSearchValue:R,onCartAdd:w,onFavoriteAdd:U,isItemAdded:function(e){return s.some((function(t){return Number(t.itemId)===Number(e)}))},isFavoriteAdded:function(e){return v.some((function(t){return Number(t.itemId)===Number(e)}))}})}),Object(f.jsx)(p.a,{path:"/favorites",children:Object(f.jsx)(y,{favoriteItems:v,onRemoveFavorite:function(e){try{x((function(t){return t.filter((function(t){return Number(t.id)!==Number(e)}))})),m.a.delete("https://616fe04e23781c0017289697.mockapi.io/favorites/".concat(e))}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e"),console.error(t)}}})})]})};r(70);i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(s.a,{children:Object(f.jsx)(U,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.dd9059e4.chunk.js.map